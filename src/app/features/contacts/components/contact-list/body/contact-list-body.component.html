<section>
  <ul class="flex flex-col gap-1 min-h-80 panel-secondary rounded-lg h-[calc(100vh-20rem)] overflow-auto">
    @if (!contacts || contacts.length === 0) {
      <li class="px-3 py-2 flex-1 flex justify-center items-center text-center">
        No contacts found
      </li>
    }

    @for (contact of contacts; track contact.id) {
      <li class="px-3 py-2 border-b border-b-gray-200 dark:border-b-gray-800 last:border-b-0 cursor-pointer flex flex-row justify-between gap-3" [ngClass]="{'opacity-50 cursor-not-allowed': contact.isSubmitting}">
        <input type="checkbox" [disabled]="contact.isSubmitting" [checked]="selectedContactIds.has(contact.id ?? '')" (change)="toggleContactSelection(contact)" />

        <div (click)="viewContact(contact)" class="flex-1">
          <h5 class="h5 txt-primary">{{contact.firstName}} {{contact.lastName}}</h5>
          <span class="txt-secondary text-xs flex flex-row gap-2"><fa-icon [icon]="faPhone"></fa-icon> {{contact.phone}}</span>
        </div>

        @if (!contact.isSubmitting) {
          <button class="btn-text btn-danger btn-sm" (click)="handleDelete(contact)"><fa-icon [icon]="faTrash"></fa-icon></button>
        }
      </li>
    }
  </ul>

  <div class="w-full h-full bg-black bg-opacity-50"></div>
</section>
